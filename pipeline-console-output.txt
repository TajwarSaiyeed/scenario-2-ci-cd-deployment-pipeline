
[0;36m[1mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—[0m
[0;36m[1mâ•‘                                                       â•‘[0m
[0;36m[1mâ•‘         CI/CD PIPELINE EXECUTION DEMO                 â•‘[0m
[0;36m[1mâ•‘         Demo App Build â†’ Test â†’ Deploy                â•‘[0m
[0;36m[1mâ•‘                                                       â•‘[0m
[0;36m[1mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

[1;33mStarted: 2025-11-14 00:02:37[0m

[0;36mâ„¹ Checking prerequisites...[0m
[0;32mâœ“ All prerequisites found[0m

[0;34m[1m=========================================[0m
[0;34m[1mStage 1: Checkout[0m
[0;34m[1m=========================================[0m

[0;36mâ„¹ Verifying project structure...[0m
[0;32mâœ“ Project structure verified[0m
total 84
drwxrwxr-x  4 tajwar tajwar 4096 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   14 00:00 .
drwxrwxr-x 16 tajwar tajwar 4096 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:45 ..
drwxrwxr-x  4 tajwar tajwar 4096 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:53 app
-rw-rw-r--  1 tajwar tajwar  521 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:48 docker-compose.jenkins.yml
-rw-rw-r--  1 tajwar tajwar  591 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:47 docker-compose.yml
-rw-rw-r--  1 tajwar tajwar  343 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:58 Dockerfile
-rw-rw-r--  1 tajwar tajwar 1160 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:48 Dockerfile.jenkins
-rw-rw-r--  1 tajwar tajwar   94 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:47 .dockerignore
drwxrwxr-x  8 tajwar tajwar 4096 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   14 00:01 .git
-rw-rw-r--  1 tajwar tajwar   70 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:49 .gitignore
-rwxrwxr-x  1 tajwar tajwar 2431 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:56 healthcheck.sh
-rw-rw-r--  1 tajwar tajwar 4674 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   14 00:02 Jenkinsfile
-rw-rw-r--  1 tajwar tajwar 1046 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   14 00:02 pipeline-console-output.txt
-rw-rw-r--  1 tajwar tajwar 4664 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:58 pipeline-output.txt
-rw-rw-r--  1 tajwar tajwar 1258 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:57 README.md
-rwxrwxr-x  1 tajwar tajwar 5927 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   14 00:02 run-pipeline-demo.sh
-rwxrwxr-x  1 tajwar tajwar 3228 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:48 setup-jenkins.sh
-rwxrwxr-x  1 tajwar tajwar 1809 à¦¨à¦­à§‡à¦®à§à¦¬à¦°   13 23:50 verify-setup.sh

[0;34m[1m=========================================[0m
[0;34m[1mStage 2: Build[0m
[0;34m[1m=========================================[0m

[0;36mâ„¹ Installing dependencies...[0m
[0;32mâœ“ Dependencies installed successfully[0m

[0;34m[1m=========================================[0m
[0;34m[1mStage 3: Test[0m
[0;34m[1m=========================================[0m

[0;36mâ„¹ Running unit tests...[0m

> demo-app@1.0.0 test
> jest --coverage

  console.log
    Server is running on port 3000

      at Server.log (server.js:32:11)

PASS ./server.test.js
  Express App Tests
    GET /
      âœ“ should return welcome message (85 ms)
    GET /health
      âœ“ should return health status (11 ms)
    GET /api/hello
      âœ“ should return hello world message (7 ms)
      âœ“ should return personalized hello message (9 ms)
    GET /nonexistent
      âœ“ should return 404 for non-existent route (11 ms)

-----------|---------|----------|---------|---------|-------------------
File       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-----------|---------|----------|---------|---------|-------------------
All files  |     100 |      100 |     100 |     100 |                   
 server.js |     100 |      100 |     100 |     100 |                   
-----------|---------|----------|---------|---------|-------------------
Test Suites: 1 passed, 1 total
Tests:       5 passed, 5 total
Snapshots:   0 total
Time:        1.188 s, estimated 2 s
Ran all test suites.
[0;32mâœ“ All tests passed successfully[0m

[0;34m[1m=========================================[0m
[0;34m[1mStage 4: Package (Build Docker Image)[0m
[0;34m[1m=========================================[0m

[0;36mâ„¹ Cleaning up existing containers...[0m
[0;36mâ„¹ Building Docker image...[0m
sha256:1a7e83b9ffe7d19b445a9c823dfe942cbd3970b1dcc68d430b82429387e04a61
[0;32mâœ“ Docker image built successfully[0m
WARNING: This output is designed for human readability. For machine-readable output, please use --format.
demo-app:latest                 1a7e83b9ffe7        244MB         52.6MB        

[0;34m[1m=========================================[0m
[0;34m[1mStage 5: Deploy[0m
[0;34m[1m=========================================[0m

[0;36mâ„¹ Deploying with Docker Compose...[0m
time="2025-11-14T00:03:15+06:00" level=warning msg="/home/tajwar/dev/scenario-2-ci-cd-deployment-pipeline/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Network scenario-2-ci-cd-deployment-pipeline_app-network  Creating
 Network scenario-2-ci-cd-deployment-pipeline_app-network  Created
 Container demo-app  Creating
 Container demo-app  Created
 Container demo-app  Starting
 Container demo-app  Started
[0;32mâœ“ Application deployed successfully[0m
e013ed7d9a7d   demo-app:latest   "docker-entrypoint.sâ€¦"   56 seconds ago   Up 1 second (health: starting)   0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp   demo-app

[0;34m[1m=========================================[0m
[0;34m[1mStage 6: Health Check[0m
[0;34m[1m=========================================[0m

=========================================
Health Check for Demo Application
=========================================

Step 1: Checking if container is running...
[0;32mâœ“[0m Container 'demo-app' is running

Step 2: Waiting for application to be ready...
[1;33mâŸ³[0m Attempt 1/30 - Waiting 2s...
[0;32mâœ“[0m Health endpoint responded successfully

Step 3: Fetching health status details...
[0;32mHealth Status Response:[0m
{
    "status": "healthy",
    "uptime": 1.92817153,
    "timestamp": "2025-11-13T18:04:16.045Z"
}

Step 4: Testing main endpoint...
[0;32mMain Endpoint Response:[0m
{
    "message": "Welcome to the Demo CI/CD Application!",
    "version": "1.0.0",
    "timestamp": "2025-11-13T18:04:16.157Z"
}

=========================================
[0;32mâœ“ ALL HEALTH CHECKS PASSED[0m
=========================================

Application is healthy and ready to serve requests!
Access the app at: http://localhost:3000

[0;32mâœ“ Health check passed - Application is healthy![0m

[0;32m[1mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—[0m
[0;32m[1mâ•‘                                                       â•‘[0m
[0;32m[1mâ•‘         ğŸ‰ PIPELINE COMPLETED SUCCESSFULLY! ğŸ‰        â•‘[0m
[0;32m[1mâ•‘                                                       â•‘[0m
[0;32m[1mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m

[0;36m[1mPipeline Summary:[0m
[0;32m  âœ“ Stage 1: Checkout       - PASSED[0m
[0;32m  âœ“ Stage 2: Build          - PASSED[0m
[0;32m  âœ“ Stage 3: Test           - PASSED[0m
[0;32m  âœ“ Stage 4: Package        - PASSED[0m
[0;32m  âœ“ Stage 5: Deploy         - PASSED[0m
[0;32m  âœ“ Stage 6: Health Check   - PASSED[0m

[0;36m[1mExecution Time:[0m 99 seconds
[0;36m[1mCompleted:[0m 2025-11-14 00:04:16

[0;36m[1mApplication URLs:[0m
  â€¢ Main:    [1;33mhttp://localhost:3000[0m
  â€¢ Health:  [1;33mhttp://localhost:3000/health[0m
  â€¢ API:     [1;33mhttp://localhost:3000/api/hello[0m

[0;36m[1mQuick Commands:[0m
  â€¢ View logs:    [1;33mdocker logs demo-app[0m
  â€¢ Stop app:     [1;33mdocker-compose down[0m
  â€¢ Test health:  [1;33mcurl http://localhost:3000/health[0m

[0;32m[1mâœ“ Application is live and healthy![0m

